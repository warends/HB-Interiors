'use strict';

var app = angular.module('hb-interiors', ['ui.router']);

app.config(['$locationProvider', '$stateProvider', '$urlRouterProvider', function ($locationProvider, $stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode(true);

  $stateProvider.state('home', {
    url: '/',
    templateUrl: '/partials/home/home',
    controller: 'homeCtrl'
  }).state('services', {
    url: '/services',
    templateUrl: '/partials/services/services',
    controller: 'ServiceController'
  }).state('e-design', {
    url: '/e-design',
    templateUrl: '/partials/ed/ed',
    controller: 'eDesignCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: '/partials/about/about',
    controller: 'aboutCtrl'
  }).state('contact', {
    url: '/contact',
    templateUrl: '/partials/contact/contact',
    controller: 'contactCtrl'
  }).state('services.detail', {
    url: '/services/:name',
    templateUrl: '/partials/services/services-detail',
    controller: 'SelectedServiceController'
  });
}]);

app.run(['$rootScope', '$location', function ($rootScope, $location) {

  // $rootScope.$on('$routeChangeError', function(evt, current, previous, rejection) {
  //     if(rejection === 'not authorized') {
  //       $location.path('/');
  //     }
  // });

  $rootScope.$on("$stateChangeSuccess", function (event, currentRoute, previousRoute) {
    // window.scrollTo(0, 0);
  });
}]);
'use strict';

app.controller('aboutCtrl', ['$scope', function ($scope) {

  $scope.isActive = false;
  $scope.minusSign = false;
  $scope.expandBio = function () {
    $scope.minusSign = !$scope.minusSign;
    $scope.isActive = !$scope.isActive;
  };
}]);
'use strict';

app.controller('contactCtrl', ['$scope', function ($scope) {
  console.log('contact controller');
}]);
'use strict';

app.controller('eDesignCtrl', ['$scope', function ($scope) {}]);
'use strict';

app.directive('pageBanner', function () {
  return {
    restrict: 'E',
    templateUrl: '/partials/home/banner',
    replace: true,
    scope: { bgImage: '@' }
  };
});
'use strict';

app.directive('boxHeight', ['$window', '$timeout', function ($window, $timeout) {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      $timeout(function () {
        scope.newHeight = elem.height();
      }, 500);
      angular.element($window).bind('resize', function () {
        scope.$apply(function () {
          scope.newHeight = elem.height();
        });
      });
    }
  };
}]);

app.directive('targetHeight', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      scope.$watch('newHeight', function (newV, oldV) {
        //console.log('old value ' + oldV, 'new value ' + newV);
        elem.attr('style', 'height: ' + newV + 'px');
      });
    }
  };
});
'use strict';

app.controller('homeCtrl', ['$scope', 'ServiceFactory', function ($scope, ServiceFactory) {

  $scope.services = ServiceFactory.list();
}]);
'use strict';

app.controller('ServiceController', ['$scope', 'ServiceFactory', function ($scope, ServiceFactory) {
  $scope.services = ServiceFactory.list();
}]);

app.controller('SelectedServiceController', ['$scope', '$stateParams', 'ServiceFactory', function ($scope, $stateParams, ServiceFactory) {
  $scope.selectedService = ServiceFactory.find($stateParams.name);
}]);
'use strict';

app.factory('ServiceFactory', function () {
  var services = [
  // {
  //   name: 'e-Design',
  //   logo: 'img/icons/construction.png'
  // },
  {
    name: 'Space Planning',
    link: '/services/space-planning',
    logo: 'img/icons/house-plan.png',
    banner: 'img/services/floor-plan.png',
    subHead: 'creating individualized products',
    desc: 'We can create a functional floor plan that has great flow.  Send us images of your space with measurements to allow us the ability to bring your space new comfort and functionality.'
  },
  // {
  //   name: 'Branding'
  // },
  {
    name: 'Interior Design',
    link: '/services/interior-design',
    logo: 'img/icons/think-draw-build.png',
    banner: 'img/services/master-br.png',
    subHead: 'creating individualized products',
    desc: 'We would love to come to your home and give you a free hour consultation.  We will create a new and inspiring space that emulates your personality.'
  }, {
    name: 'Furniture Design',
    link: '/services/furniture',
    logo: 'img/icons/construction.png',
    banner: 'img/services/bench.png',
    subHead: 'creating individualized products',
    desc: 'We love to create furniture out of sustainable materials. Crafting unique furniture has become a wondeful passion of our.  Let us help you create something one-of-a-kind for your space.'
  }];

  return {
    list: function list() {
      return services;
    },
    find: function find(name) {
      return _.find(services, function (service) {
        return service.name == name;
      });
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0Q3RybC5qcyIsImNvbnRhY3QvY29udGFjdEN0cmwuanMiLCJlZC9lRGVzaWduQ3RybC5qcyIsImhvbWUvYmFubmVyRGlyLmpzIiwiaG9tZS9ib3hEaXJzLmpzIiwiaG9tZS9ob21lQ3RybC5qcyIsInNlcnZpY2VzL3NlcnZpY2VDdHJsLmpzIiwic2VydmljZXMvc2VydmljZUZhY3RvcnkuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJ1biIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsImN1cnJlbnRSb3V0ZSIsInByZXZpb3VzUm91dGUiLCIkc2NvcGUiLCJpc0FjdGl2ZSIsIm1pbnVzU2lnbiIsImV4cGFuZEJpbyIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImJnSW1hZ2UiLCIkd2luZG93IiwiJHRpbWVvdXQiLCJsaW5rIiwiZWxlbSIsImF0dHJzIiwibmV3SGVpZ2h0IiwiaGVpZ2h0IiwiZWxlbWVudCIsImJpbmQiLCIkYXBwbHkiLCIkd2F0Y2giLCJuZXdWIiwib2xkViIsImF0dHIiLCJTZXJ2aWNlRmFjdG9yeSIsInNlcnZpY2VzIiwibGlzdCIsIiRzdGF0ZVBhcmFtcyIsInNlbGVjdGVkU2VydmljZSIsImZpbmQiLCJuYW1lIiwiZmFjdG9yeSIsImxvZ28iLCJiYW5uZXIiLCJzdWJIZWFkIiwiZGVzYyIsIl8iLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSxjQUFmLEVBQStCLENBQUMsV0FBRCxDQUEvQixDQUFaOztBQUVBRixJQUFJRyxNQUFKLENBQVcsQ0FBQyxtQkFBRCxFQUFzQixnQkFBdEIsRUFBd0Msb0JBQXhDLEVBQThELFVBQUNDLGlCQUFELEVBQW9CQyxjQUFwQixFQUFvQ0Msa0JBQXBDLEVBQTJEOztBQUVoSUEscUJBQW1CQyxTQUFuQixDQUE2QixHQUE3QjtBQUNBSCxvQkFBa0JJLFNBQWxCLENBQTRCLElBQTVCOztBQUVBSCxpQkFDR0ksS0FESCxDQUNTLE1BRFQsRUFDaUI7QUFDWEMsU0FBSyxHQURNO0FBRVhDLGlCQUFhLHFCQUZGO0FBR1hDLGdCQUFZO0FBSEQsR0FEakIsRUFNR0gsS0FOSCxDQU1TLFVBTlQsRUFNcUI7QUFDakJDLFNBQUssV0FEWTtBQUVqQkMsaUJBQWEsNkJBRkk7QUFHakJDLGdCQUFZO0FBSEssR0FOckIsRUFXR0gsS0FYSCxDQVdTLFVBWFQsRUFXcUI7QUFDakJDLFNBQUssV0FEWTtBQUVqQkMsaUJBQWEsaUJBRkk7QUFHakJDLGdCQUFZO0FBSEssR0FYckIsRUFnQkdILEtBaEJILENBZ0JTLE9BaEJULEVBZ0JrQjtBQUNkQyxTQUFLLFFBRFM7QUFFZEMsaUJBQWEsdUJBRkM7QUFHZEMsZ0JBQVk7QUFIRSxHQWhCbEIsRUFxQkdILEtBckJILENBcUJTLFNBckJULEVBcUJvQjtBQUNoQkMsU0FBSyxVQURXO0FBRWhCQyxpQkFBYSwyQkFGRztBQUdoQkMsZ0JBQVk7QUFISSxHQXJCcEIsRUEwQkdILEtBMUJILENBMEJTLGlCQTFCVCxFQTBCNEI7QUFDeEJDLFNBQUssaUJBRG1CO0FBRXhCQyxpQkFBYSxvQ0FGVztBQUd4QkMsZ0JBQVk7QUFIWSxHQTFCNUI7QUErQkgsQ0FwQ1UsQ0FBWDs7QUF1Q0FaLElBQUlhLEdBQUosQ0FBUSxDQUFDLFlBQUQsRUFBZSxXQUFmLEVBQTRCLFVBQVNDLFVBQVQsRUFBcUJDLFNBQXJCLEVBQStCOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBRCxhQUFXRSxHQUFYLENBQWUscUJBQWYsRUFBc0MsVUFBVUMsS0FBVixFQUFpQkMsWUFBakIsRUFBK0JDLGFBQS9CLEVBQThDO0FBQ2xGO0FBQ0QsR0FGRDtBQUlELENBWk8sQ0FBUjs7O0FDekNBbkIsSUFBSVksVUFBSixDQUFlLFdBQWYsRUFBNEIsQ0FBQyxRQUFELEVBQVcsVUFBQ1EsTUFBRCxFQUFZOztBQUVqREEsU0FBT0MsUUFBUCxHQUFrQixLQUFsQjtBQUNBRCxTQUFPRSxTQUFQLEdBQW1CLEtBQW5CO0FBQ0FGLFNBQU9HLFNBQVAsR0FBbUIsWUFBTTtBQUNyQkgsV0FBT0UsU0FBUCxHQUFtQixDQUFDRixPQUFPRSxTQUEzQjtBQUNBRixXQUFPQyxRQUFQLEdBQWtCLENBQUNELE9BQU9DLFFBQTFCO0FBQ0gsR0FIRDtBQUtELENBVDJCLENBQTVCOzs7QUNBQXJCLElBQUlZLFVBQUosQ0FBZSxhQUFmLEVBQThCLENBQUMsUUFBRCxFQUFXLFVBQUNRLE1BQUQsRUFBWTtBQUNuREksVUFBUUMsR0FBUixDQUFZLG9CQUFaO0FBQ0QsQ0FGNkIsQ0FBOUI7OztBQ0FBekIsSUFBSVksVUFBSixDQUFlLGFBQWYsRUFBOEIsQ0FBQyxRQUFELEVBQVcsVUFBQ1EsTUFBRCxFQUFZLENBRXBELENBRjZCLENBQTlCOzs7QUNBQXBCLElBQUkwQixTQUFKLENBQWMsWUFBZCxFQUE0QixZQUFNO0FBQ2hDLFNBQU87QUFDTEMsY0FBVSxHQURMO0FBRUxoQixpQkFBYSx1QkFGUjtBQUdMaUIsYUFBUyxJQUhKO0FBSUxDLFdBQU8sRUFBRUMsU0FBUyxHQUFYO0FBSkYsR0FBUDtBQU1ELENBUEQ7OztBQ0NBOUIsSUFBSTBCLFNBQUosQ0FBYyxXQUFkLEVBQTJCLENBQUMsU0FBRCxFQUFZLFVBQVosRUFBd0IsVUFBVUssT0FBVixFQUFtQkMsUUFBbkIsRUFBNkI7QUFDNUUsU0FBTztBQUNITCxjQUFVLEdBRFA7QUFFSE0sVUFBTSxjQUFDSixLQUFELEVBQVFLLElBQVIsRUFBY0MsS0FBZCxFQUF3QjtBQUM1QkgsZUFBUyxZQUFNO0FBQ2JILGNBQU1PLFNBQU4sR0FBa0JGLEtBQUtHLE1BQUwsRUFBbEI7QUFDRCxPQUZELEVBRUcsR0FGSDtBQUdBcEMsY0FBUXFDLE9BQVIsQ0FBZ0JQLE9BQWhCLEVBQXlCUSxJQUF6QixDQUE4QixRQUE5QixFQUF3QyxZQUFNO0FBQzVDVixjQUFNVyxNQUFOLENBQWEsWUFBTTtBQUNqQlgsZ0JBQU1PLFNBQU4sR0FBa0JGLEtBQUtHLE1BQUwsRUFBbEI7QUFDRCxTQUZEO0FBR0QsT0FKRDtBQUtEO0FBWEUsR0FBUDtBQWFILENBZDBCLENBQTNCOztBQWdCQXJDLElBQUkwQixTQUFKLENBQWMsY0FBZCxFQUE4QixZQUFVO0FBQ3RDLFNBQU87QUFDTEMsY0FBVSxHQURMO0FBRUxNLFVBQU0sY0FBQ0osS0FBRCxFQUFRSyxJQUFSLEVBQWNDLEtBQWQsRUFBd0I7QUFDNUJOLFlBQU1ZLE1BQU4sQ0FBYSxXQUFiLEVBQTBCLFVBQUNDLElBQUQsRUFBT0MsSUFBUCxFQUFnQjtBQUN4QztBQUNBVCxhQUFLVSxJQUFMLENBQVUsT0FBVixFQUFtQixhQUFhRixJQUFiLEdBQW9CLElBQXZDO0FBQ0QsT0FIRDtBQUlEO0FBUEksR0FBUDtBQVNELENBVkQ7OztBQ2pCQTFDLElBQUlZLFVBQUosQ0FBZSxVQUFmLEVBQTJCLENBQUMsUUFBRCxFQUFXLGdCQUFYLEVBQTZCLFVBQVNRLE1BQVQsRUFBaUJ5QixjQUFqQixFQUFnQzs7QUFFdEZ6QixTQUFPMEIsUUFBUCxHQUFrQkQsZUFBZUUsSUFBZixFQUFsQjtBQUdELENBTDBCLENBQTNCOzs7QUNBQS9DLElBQUlZLFVBQUosQ0FBZSxtQkFBZixFQUFvQyxDQUFDLFFBQUQsRUFBVyxnQkFBWCxFQUE2QixVQUFDUSxNQUFELEVBQVN5QixjQUFULEVBQTRCO0FBQ3pGekIsU0FBTzBCLFFBQVAsR0FBa0JELGVBQWVFLElBQWYsRUFBbEI7QUFDSCxDQUZtQyxDQUFwQzs7QUFJQS9DLElBQUlZLFVBQUosQ0FBZSwyQkFBZixFQUE0QyxDQUFDLFFBQUQsRUFBVyxjQUFYLEVBQTJCLGdCQUEzQixFQUE2QyxVQUFDUSxNQUFELEVBQVM0QixZQUFULEVBQXVCSCxjQUF2QixFQUEwQztBQUNqSXpCLFNBQU82QixlQUFQLEdBQXlCSixlQUFlSyxJQUFmLENBQW9CRixhQUFhRyxJQUFqQyxDQUF6QjtBQUNELENBRjJDLENBQTVDOzs7QUNKQW5ELElBQUlvRCxPQUFKLENBQVksZ0JBQVosRUFBOEIsWUFBTTtBQUNsQyxNQUFJTixXQUFXO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFSyxVQUFNLGdCQURSO0FBRUVsQixVQUFNLDBCQUZSO0FBR0VvQixVQUFNLDBCQUhSO0FBSUVDLFlBQVEsNkJBSlY7QUFLRUMsYUFBUyxrQ0FMWDtBQU1FQyxVQUFNO0FBTlIsR0FMYTtBQWFiO0FBQ0E7QUFDQTtBQUNBO0FBQ0VMLFVBQU0saUJBRFI7QUFFRWxCLFVBQU0sMkJBRlI7QUFHRW9CLFVBQU0sZ0NBSFI7QUFJRUMsWUFBUSw0QkFKVjtBQUtFQyxhQUFTLGtDQUxYO0FBTUVDLFVBQU07QUFOUixHQWhCYSxFQXdCYjtBQUNFTCxVQUFNLGtCQURSO0FBRUVsQixVQUFNLHFCQUZSO0FBR0VvQixVQUFNLDRCQUhSO0FBSUVDLFlBQVEsd0JBSlY7QUFLRUMsYUFBUyxrQ0FMWDtBQU1FQyxVQUFNO0FBTlIsR0F4QmEsQ0FBZjs7QUFrQ0EsU0FBTztBQUNMVCxVQUFNLGdCQUFVO0FBQ2QsYUFBT0QsUUFBUDtBQUNELEtBSEk7QUFJTEksVUFBTSxjQUFTQyxJQUFULEVBQWM7QUFDaEIsYUFBT00sRUFBRVAsSUFBRixDQUFPSixRQUFQLEVBQWlCLFVBQUNZLE9BQUQsRUFBYTtBQUNuQyxlQUFPQSxRQUFRUCxJQUFSLElBQWdCQSxJQUF2QjtBQUNELE9BRk0sQ0FBUDtBQUdIO0FBUkksR0FBUDtBQVVELENBN0NEIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnaGItaW50ZXJpb3JzJywgWyd1aS5yb3V0ZXInXSk7XG5cbmFwcC5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAoJGxvY2F0aW9uUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpID0+IHtcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2hvbWUvaG9tZScsXG4gICAgICAgICAgY29udHJvbGxlcjogJ2hvbWVDdHJsJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnc2VydmljZXMnLCB7XG4gICAgICAgIHVybDogJy9zZXJ2aWNlcycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL3NlcnZpY2VzL3NlcnZpY2VzJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1NlcnZpY2VDb250cm9sbGVyJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnZS1kZXNpZ24nLCB7XG4gICAgICAgIHVybDogJy9lLWRlc2lnbicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2VkL2VkJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2VEZXNpZ25DdHJsJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnYWJvdXQnLCB7XG4gICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Fib3V0L2Fib3V0JyxcbiAgICAgICAgY29udHJvbGxlcjogJ2Fib3V0Q3RybCdcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2NvbnRhY3QnLCB7XG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvY29udGFjdC9jb250YWN0JyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3RDdHJsJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnc2VydmljZXMuZGV0YWlsJywge1xuICAgICAgICB1cmw6ICcvc2VydmljZXMvOm5hbWUnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9zZXJ2aWNlcy9zZXJ2aWNlcy1kZXRhaWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2VsZWN0ZWRTZXJ2aWNlQ29udHJvbGxlcidcbiAgICAgIH0pO1xufV0pO1xuXG5cbmFwcC5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbil7XG5cbiAgLy8gJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24oZXZ0LCBjdXJyZW50LCBwcmV2aW91cywgcmVqZWN0aW9uKSB7XG4gIC8vICAgICBpZihyZWplY3Rpb24gPT09ICdub3QgYXV0aG9yaXplZCcpIHtcbiAgLy8gICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgLy8gICAgIH1cbiAgLy8gfSk7XG5cbiAgJHJvb3RTY29wZS4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsIGZ1bmN0aW9uIChldmVudCwgY3VycmVudFJvdXRlLCBwcmV2aW91c1JvdXRlKSB7XG4gICAgLy8gd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICB9KTtcblxufV0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ2Fib3V0Q3RybCcsIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZhbHNlO1xuICAkc2NvcGUubWludXNTaWduID0gZmFsc2U7XG4gICRzY29wZS5leHBhbmRCaW8gPSAoKSA9PiB7XG4gICAgICAkc2NvcGUubWludXNTaWduID0gISRzY29wZS5taW51c1NpZ247XG4gICAgICAkc2NvcGUuaXNBY3RpdmUgPSAhJHNjb3BlLmlzQWN0aXZlO1xuICB9O1xuXG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignY29udGFjdEN0cmwnLCBbJyRzY29wZScsICgkc2NvcGUpID0+IHtcbiAgY29uc29sZS5sb2coJ2NvbnRhY3QgY29udHJvbGxlcicpO1xufV0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ2VEZXNpZ25DdHJsJywgWyckc2NvcGUnLCAoJHNjb3BlKSA9PiB7XG4gIFxufV0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgncGFnZUJhbm5lcicsICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2hvbWUvYmFubmVyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGJnSW1hZ2U6ICdAJyB9XG4gIH07XG59KTtcbiIsIlxuYXBwLmRpcmVjdGl2ZSgnYm94SGVpZ2h0JywgWyckd2luZG93JywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR3aW5kb3csICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogKHNjb3BlLCBlbGVtLCBhdHRycykgPT4ge1xuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNjb3BlLm5ld0hlaWdodCA9IGVsZW0uaGVpZ2h0KCk7XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgc2NvcGUubmV3SGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcblxuYXBwLmRpcmVjdGl2ZSgndGFyZ2V0SGVpZ2h0JywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpID0+IHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnbmV3SGVpZ2h0JywgKG5ld1YsIG9sZFYpID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnb2xkIHZhbHVlICcgKyBvbGRWLCAnbmV3IHZhbHVlICcgKyBuZXdWKTtcbiAgICAgICAgZWxlbS5hdHRyKCdzdHlsZScsICdoZWlnaHQ6ICcgKyBuZXdWICsgJ3B4Jyk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxufSk7XG4iLCJhcHAuY29udHJvbGxlcignaG9tZUN0cmwnLCBbJyRzY29wZScsICdTZXJ2aWNlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgU2VydmljZUZhY3Rvcnkpe1xuXG4gICRzY29wZS5zZXJ2aWNlcyA9IFNlcnZpY2VGYWN0b3J5Lmxpc3QoKTtcblxuXG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignU2VydmljZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdTZXJ2aWNlRmFjdG9yeScsICgkc2NvcGUsIFNlcnZpY2VGYWN0b3J5KSA9PiB7XG4gICAgJHNjb3BlLnNlcnZpY2VzID0gU2VydmljZUZhY3RvcnkubGlzdCgpO1xufV0pO1xuXG5hcHAuY29udHJvbGxlcignU2VsZWN0ZWRTZXJ2aWNlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdTZXJ2aWNlRmFjdG9yeScsICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgU2VydmljZUZhY3RvcnkpID0+IHtcbiAgJHNjb3BlLnNlbGVjdGVkU2VydmljZSA9IFNlcnZpY2VGYWN0b3J5LmZpbmQoJHN0YXRlUGFyYW1zLm5hbWUpO1xufV0pO1xuIiwiYXBwLmZhY3RvcnkoJ1NlcnZpY2VGYWN0b3J5JywgKCkgPT4ge1xuICB2YXIgc2VydmljZXMgPSBbXG4gICAgLy8ge1xuICAgIC8vICAgbmFtZTogJ2UtRGVzaWduJyxcbiAgICAvLyAgIGxvZ286ICdpbWcvaWNvbnMvY29uc3RydWN0aW9uLnBuZydcbiAgICAvLyB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTcGFjZSBQbGFubmluZycsXG4gICAgICBsaW5rOiAnL3NlcnZpY2VzL3NwYWNlLXBsYW5uaW5nJyxcbiAgICAgIGxvZ286ICdpbWcvaWNvbnMvaG91c2UtcGxhbi5wbmcnLFxuICAgICAgYmFubmVyOiAnaW1nL3NlcnZpY2VzL2Zsb29yLXBsYW4ucG5nJyxcbiAgICAgIHN1YkhlYWQ6ICdjcmVhdGluZyBpbmRpdmlkdWFsaXplZCBwcm9kdWN0cycsXG4gICAgICBkZXNjOiAnV2UgY2FuIGNyZWF0ZSBhIGZ1bmN0aW9uYWwgZmxvb3IgcGxhbiB0aGF0IGhhcyBncmVhdCBmbG93LiAgU2VuZCB1cyBpbWFnZXMgb2YgeW91ciBzcGFjZSB3aXRoIG1lYXN1cmVtZW50cyB0byBhbGxvdyB1cyB0aGUgYWJpbGl0eSB0byBicmluZyB5b3VyIHNwYWNlIG5ldyBjb21mb3J0IGFuZCBmdW5jdGlvbmFsaXR5LidcbiAgICB9LFxuICAgIC8vIHtcbiAgICAvLyAgIG5hbWU6ICdCcmFuZGluZydcbiAgICAvLyB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJbnRlcmlvciBEZXNpZ24nLFxuICAgICAgbGluazogJy9zZXJ2aWNlcy9pbnRlcmlvci1kZXNpZ24nLFxuICAgICAgbG9nbzogJ2ltZy9pY29ucy90aGluay1kcmF3LWJ1aWxkLnBuZycsXG4gICAgICBiYW5uZXI6ICdpbWcvc2VydmljZXMvbWFzdGVyLWJyLnBuZycsXG4gICAgICBzdWJIZWFkOiAnY3JlYXRpbmcgaW5kaXZpZHVhbGl6ZWQgcHJvZHVjdHMnLFxuICAgICAgZGVzYzogJ1dlIHdvdWxkIGxvdmUgdG8gY29tZSB0byB5b3VyIGhvbWUgYW5kIGdpdmUgeW91IGEgZnJlZSBob3VyIGNvbnN1bHRhdGlvbi4gIFdlIHdpbGwgY3JlYXRlIGEgbmV3IGFuZCBpbnNwaXJpbmcgc3BhY2UgdGhhdCBlbXVsYXRlcyB5b3VyIHBlcnNvbmFsaXR5LidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdGdXJuaXR1cmUgRGVzaWduJyxcbiAgICAgIGxpbms6ICcvc2VydmljZXMvZnVybml0dXJlJyxcbiAgICAgIGxvZ286ICdpbWcvaWNvbnMvY29uc3RydWN0aW9uLnBuZycsXG4gICAgICBiYW5uZXI6ICdpbWcvc2VydmljZXMvYmVuY2gucG5nJyxcbiAgICAgIHN1YkhlYWQ6ICdjcmVhdGluZyBpbmRpdmlkdWFsaXplZCBwcm9kdWN0cycsXG4gICAgICBkZXNjOiAnV2UgbG92ZSB0byBjcmVhdGUgZnVybml0dXJlIG91dCBvZiBzdXN0YWluYWJsZSBtYXRlcmlhbHMuIENyYWZ0aW5nIHVuaXF1ZSBmdXJuaXR1cmUgaGFzIGJlY29tZSBhIHdvbmRlZnVsIHBhc3Npb24gb2Ygb3VyLiAgTGV0IHVzIGhlbHAgeW91IGNyZWF0ZSBzb21ldGhpbmcgb25lLW9mLWEta2luZCBmb3IgeW91ciBzcGFjZS4nXG4gICAgfVxuICBdO1xuXG4gIHJldHVybiB7XG4gICAgbGlzdDogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBzZXJ2aWNlcztcbiAgICB9LFxuICAgIGZpbmQ6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgICByZXR1cm4gXy5maW5kKHNlcnZpY2VzLCAoc2VydmljZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlLm5hbWUgPT0gbmFtZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59KVxuIl19
