'use strict';

var app = angular.module('hb-interiors', ['ui.router']);

app.config(['$locationProvider', '$stateProvider', '$urlRouterProvider', function ($locationProvider, $stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode(true);

  $stateProvider.state('home', {
    url: '/',
    templateUrl: '/partials/home/home',
    controller: 'homeCtrl'
  }).state('services', {
    url: '/services',
    templateUrl: '/partials/services/services',
    controller: 'ServiceController'
  }).state('e-design', {
    url: '/e-design',
    templateUrl: '/partials/ed/ed',
    controller: 'eDesignCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: '/partials/about/about',
    controller: 'aboutCtrl'
  }).state('contact', {
    url: '/contact',
    templateUrl: '/partials/contact/contact',
    controller: 'contactCtrl'
  }).state('services.detail', {
    url: '/services/:name',
    templateUrl: '/partials/services/services-detail',
    controller: 'SelectedServiceController'
  });
}]);

app.run(['$rootScope', '$location', function ($rootScope, $location) {

  // $rootScope.$on('$routeChangeError', function(evt, current, previous, rejection) {
  //     if(rejection === 'not authorized') {
  //       $location.path('/');
  //     }
  // });

  $rootScope.$on("$stateChangeSuccess", function (event, currentRoute, previousRoute) {
    window.scrollTo(0, 0);
  });
}]);
'use strict';

app.controller('aboutCtrl', ['$scope', function ($scope) {

  $scope.isActive = false;
  $scope.minusSign = false;
  $scope.expandBio = function () {
    $scope.minusSign = !$scope.minusSign;
    $scope.isActive = !$scope.isActive;
  };
}]);
'use strict';

app.controller('contactCtrl', ['$scope', function ($scope) {
  console.log('contact controller');
}]);
'use strict';

app.controller('ServiceController', ['$scope', 'ServiceFactory', function ($scope, ServiceFactory) {
  $scope.services = ServiceFactory.list();
}]);

app.controller('SelectedServiceController', ['$scope', '$stateParams', 'ServiceFactory', function ($scope, $stateParams, ServiceFactory) {
  $scope.selectedService = ServiceFactory.find($stateParams.name);
}]);
'use strict';

app.factory('ServiceFactory', function () {
  var services = [{
    name: 'e-Design'
  }, {
    name: 'Space Planning'
  }, {
    name: 'Branding'
  }, {
    name: 'Interior Design'
  }, {
    name: 'Furniture Design'
  }];

  return {
    list: function list() {
      return services;
    },
    find: function find(name) {
      return _.find(services, function (service) {
        return service.name == name;
      });
    }
  };
});
'use strict';

app.controller('eDesignCtrl', ['$scope', function ($scope) {}]);
'use strict';

app.directive('pageBanner', function () {
  return {
    restrict: 'E',
    templateUrl: '/partials/home/banner',
    replace: true,
    scope: { bgImage: '@' }
  };
});
'use strict';

app.directive('boxHeight', ['$window', '$timeout', function ($window, $timeout) {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      $timeout(function () {
        scope.newHeight = elem.height();
      }, 500);
      angular.element($window).bind('resize', function () {
        scope.$apply(function () {
          scope.newHeight = elem.height();
        });
      });
    }
  };
}]);

app.directive('targetHeight', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      scope.$watch('newHeight', function (newV, oldV) {
        //console.log('old value ' + oldV, 'new value ' + newV);
        elem.attr('style', 'height: ' + newV + 'px');
      });
    }
  };
});
'use strict';

app.controller('homeCtrl', ['$scope', '$timeout', function ($scope) {

  $scope.services = [{ title: 'E-Design',
    link: '/services/e-design',
    img: 'img/icons/containers.png',
    desc: 'You send us images and measurements that you take of the space you would like redesigned.   You pin images to Pinterest or send inspirational images and complete a design survey to help us reimagine your space.  We will compile furniture and accessories that meet your budget.  A floor plan will also be created to help you set up the room.'
  }, { title: 'Space Planning',
    link: '/services/space-planning',
    img: 'img/icons/house-plan.png',
    desc: 'We can create a functional floor plan that has great flow.  Send us images of your space with measurements to allow us the ability to bring your space new comfort and functionality.'
  }, { title: 'Branding',
    link: '/services/branding',
    img: 'img/icons/branding.png',
    desc: 'We can create branding tools for you and your company, such as business cards, booklets, posters and other marketing tools.'
  }, { title: 'Interior Design',
    link: '/services/interior-design',
    img: 'img/icons/think-draw-build.png',
    desc: 'We would love to come to your home and give you a free hour consultation.  We will create a new and inspiring space that emulates your personality.'
  }, { title: 'Custom Furniture Design',
    link: '/services/furniture',
    img: 'img/icons/construction.png',
    desc: 'We love to create furniture out of sustainable materials. Crafting unique furniture has become a wondeful passion of our.  Let us help you create something one-of-a-kind for your space.'
  }];
}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0Q3RybC5qcyIsImNvbnRhY3QvY29udGFjdEN0cmwuanMiLCJzZXJ2aWNlcy9zZXJ2aWNlQ3RybC5qcyIsInNlcnZpY2VzL3NlcnZpY2VGYWN0b3J5LmpzIiwiZWQvZURlc2lnbkN0cmwuanMiLCJob21lL2Jhbm5lckRpci5qcyIsImhvbWUvYm94RGlycy5qcyIsImhvbWUvaG9tZUN0cmwuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJ1biIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsImN1cnJlbnRSb3V0ZSIsInByZXZpb3VzUm91dGUiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsIiRzY29wZSIsImlzQWN0aXZlIiwibWludXNTaWduIiwiZXhwYW5kQmlvIiwiY29uc29sZSIsImxvZyIsIlNlcnZpY2VGYWN0b3J5Iiwic2VydmljZXMiLCJsaXN0IiwiJHN0YXRlUGFyYW1zIiwic2VsZWN0ZWRTZXJ2aWNlIiwiZmluZCIsIm5hbWUiLCJmYWN0b3J5IiwiXyIsInNlcnZpY2UiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImJnSW1hZ2UiLCIkd2luZG93IiwiJHRpbWVvdXQiLCJsaW5rIiwiZWxlbSIsImF0dHJzIiwibmV3SGVpZ2h0IiwiaGVpZ2h0IiwiZWxlbWVudCIsImJpbmQiLCIkYXBwbHkiLCIkd2F0Y2giLCJuZXdWIiwib2xkViIsImF0dHIiLCJ0aXRsZSIsImltZyIsImRlc2MiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsTUFBTUMsUUFBUUMsTUFBUixDQUFlLGNBQWYsRUFBK0IsQ0FBQyxXQUFE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MEIsQ0FBM0IiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdoYi1pbnRlcmlvcnMnLCBbJ3VpLnJvdXRlciddKTtcblxuYXBwLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICgkbG9jYXRpb25Qcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgPT4ge1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcblxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvaG9tZS9ob21lJyxcbiAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdzZXJ2aWNlcycsIHtcbiAgICAgICAgdXJsOiAnL3NlcnZpY2VzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvc2VydmljZXMvc2VydmljZXMnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2VydmljZUNvbnRyb2xsZXInXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdlLWRlc2lnbicsIHtcbiAgICAgICAgdXJsOiAnL2UtZGVzaWduJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvZWQvZWQnLFxuICAgICAgICBjb250cm9sbGVyOiAnZURlc2lnbkN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICAgICAgdXJsOiAnL2Fib3V0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYWJvdXQvYWJvdXQnLFxuICAgICAgICBjb250cm9sbGVyOiAnYWJvdXRDdHJsJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnY29udGFjdCcsIHtcbiAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jb250YWN0L2NvbnRhY3QnLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdEN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdzZXJ2aWNlcy5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9zZXJ2aWNlcy86bmFtZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL3NlcnZpY2VzL3NlcnZpY2VzLWRldGFpbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZWxlY3RlZFNlcnZpY2VDb250cm9sbGVyJ1xuICAgICAgfSk7XG59XSk7XG5cblxuYXBwLnJ1bihbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uKXtcblxuICAvLyAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldnQsIGN1cnJlbnQsIHByZXZpb3VzLCByZWplY3Rpb24pIHtcbiAgLy8gICAgIGlmKHJlamVjdGlvbiA9PT0gJ25vdCBhdXRob3JpemVkJykge1xuICAvLyAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcblxuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24gKGV2ZW50LCBjdXJyZW50Um91dGUsIHByZXZpb3VzUm91dGUpIHtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gIH0pO1xuXG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignYWJvdXRDdHJsJywgWyckc2NvcGUnLCAoJHNjb3BlKSA9PiB7XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZmFsc2U7XG4gICRzY29wZS5taW51c1NpZ24gPSBmYWxzZTtcbiAgJHNjb3BlLmV4cGFuZEJpbyA9ICgpID0+IHtcbiAgICAgICRzY29wZS5taW51c1NpZ24gPSAhJHNjb3BlLm1pbnVzU2lnbjtcbiAgICAgICRzY29wZS5pc0FjdGl2ZSA9ICEkc2NvcGUuaXNBY3RpdmU7XG4gIH07XG5cbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdjb250YWN0Q3RybCcsIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xuICBjb25zb2xlLmxvZygnY29udGFjdCBjb250cm9sbGVyJyk7XG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignU2VydmljZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdTZXJ2aWNlRmFjdG9yeScsICgkc2NvcGUsIFNlcnZpY2VGYWN0b3J5KSA9PiB7XG4gICAgJHNjb3BlLnNlcnZpY2VzID0gU2VydmljZUZhY3RvcnkubGlzdCgpO1xufV0pO1xuXG5hcHAuY29udHJvbGxlcignU2VsZWN0ZWRTZXJ2aWNlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdTZXJ2aWNlRmFjdG9yeScsICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgU2VydmljZUZhY3RvcnkpID0+IHtcbiAgJHNjb3BlLnNlbGVjdGVkU2VydmljZSA9IFNlcnZpY2VGYWN0b3J5LmZpbmQoJHN0YXRlUGFyYW1zLm5hbWUpO1xufV0pO1xuIiwiYXBwLmZhY3RvcnkoJ1NlcnZpY2VGYWN0b3J5JywgKCkgPT4ge1xuICB2YXIgc2VydmljZXMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ2UtRGVzaWduJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1NwYWNlIFBsYW5uaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0JyYW5kaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0ludGVyaW9yIERlc2lnbidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdGdXJuaXR1cmUgRGVzaWduJ1xuICAgIH1cbiAgXTtcblxuICByZXR1cm4ge1xuICAgIGxpc3Q6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gc2VydmljZXM7XG4gICAgfSxcbiAgICBmaW5kOiBmdW5jdGlvbihuYW1lKXtcbiAgICAgICAgcmV0dXJuIF8uZmluZChzZXJ2aWNlcywgKHNlcnZpY2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gc2VydmljZS5uYW1lID09IG5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxufSlcbiIsImFwcC5jb250cm9sbGVyKCdlRGVzaWduQ3RybCcsIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xuICBcbn1dKTtcbiIsImFwcC5kaXJlY3RpdmUoJ3BhZ2VCYW5uZXInLCAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9ob21lL2Jhbm5lcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBiZ0ltYWdlOiAnQCcgfVxuICB9O1xufSk7XG4iLCJcbmFwcC5kaXJlY3RpdmUoJ2JveEhlaWdodCcsIFsnJHdpbmRvdycsICckdGltZW91dCcsIGZ1bmN0aW9uICgkd2luZG93LCAkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpID0+IHtcbiAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzY29wZS5uZXdIZWlnaHQgPSBlbGVtLmhlaWdodCgpO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgIHNjb3BlLm5ld0hlaWdodCA9IGVsZW0uaGVpZ2h0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG5cbmFwcC5kaXJlY3RpdmUoJ3RhcmdldEhlaWdodCcsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW0sIGF0dHJzKSA9PiB7XG4gICAgICBzY29wZS4kd2F0Y2goJ25ld0hlaWdodCcsIChuZXdWLCBvbGRWKSA9PiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ29sZCB2YWx1ZSAnICsgb2xkViwgJ25ldyB2YWx1ZSAnICsgbmV3Vik7XG4gICAgICAgIGVsZW0uYXR0cignc3R5bGUnLCAnaGVpZ2h0OiAnICsgbmV3ViArICdweCcpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkc2NvcGUpe1xuXG4gICRzY29wZS5zZXJ2aWNlcyA9IFtcbiAgICAgIHsgdGl0bGU6ICdFLURlc2lnbicsXG4gICAgICAgIGxpbms6ICcvc2VydmljZXMvZS1kZXNpZ24nLFxuICAgICAgICBpbWc6ICdpbWcvaWNvbnMvY29udGFpbmVycy5wbmcnLFxuICAgICAgICBkZXNjOiAnWW91IHNlbmQgdXMgaW1hZ2VzIGFuZCBtZWFzdXJlbWVudHMgdGhhdCB5b3UgdGFrZSBvZiB0aGUgc3BhY2UgeW91IHdvdWxkIGxpa2UgcmVkZXNpZ25lZC4gICBZb3UgcGluIGltYWdlcyB0byBQaW50ZXJlc3Qgb3Igc2VuZCBpbnNwaXJhdGlvbmFsIGltYWdlcyBhbmQgY29tcGxldGUgYSBkZXNpZ24gc3VydmV5IHRvIGhlbHAgdXMgcmVpbWFnaW5lIHlvdXIgc3BhY2UuICBXZSB3aWxsIGNvbXBpbGUgZnVybml0dXJlIGFuZCBhY2Nlc3NvcmllcyB0aGF0IG1lZXQgeW91ciBidWRnZXQuICBBIGZsb29yIHBsYW4gd2lsbCBhbHNvIGJlIGNyZWF0ZWQgdG8gaGVscCB5b3Ugc2V0IHVwIHRoZSByb29tLidcbiAgICAgIH0sXG4gICAgICB7IHRpdGxlOiAnU3BhY2UgUGxhbm5pbmcnLFxuICAgICAgICBsaW5rOiAnL3NlcnZpY2VzL3NwYWNlLXBsYW5uaW5nJyxcbiAgICAgICAgaW1nOiAnaW1nL2ljb25zL2hvdXNlLXBsYW4ucG5nJyxcbiAgICAgICAgZGVzYzogJ1dlIGNhbiBjcmVhdGUgYSBmdW5jdGlvbmFsIGZsb29yIHBsYW4gdGhhdCBoYXMgZ3JlYXQgZmxvdy4gIFNlbmQgdXMgaW1hZ2VzIG9mIHlvdXIgc3BhY2Ugd2l0aCBtZWFzdXJlbWVudHMgdG8gYWxsb3cgdXMgdGhlIGFiaWxpdHkgdG8gYnJpbmcgeW91ciBzcGFjZSBuZXcgY29tZm9ydCBhbmQgZnVuY3Rpb25hbGl0eS4nXG4gICAgICB9LFxuICAgICAgeyB0aXRsZTogJ0JyYW5kaW5nJyxcbiAgICAgICAgbGluazogJy9zZXJ2aWNlcy9icmFuZGluZycsXG4gICAgICAgIGltZzogJ2ltZy9pY29ucy9icmFuZGluZy5wbmcnLFxuICAgICAgICBkZXNjOiAnV2UgY2FuIGNyZWF0ZSBicmFuZGluZyB0b29scyBmb3IgeW91IGFuZCB5b3VyIGNvbXBhbnksIHN1Y2ggYXMgYnVzaW5lc3MgY2FyZHMsIGJvb2tsZXRzLCBwb3N0ZXJzIGFuZCBvdGhlciBtYXJrZXRpbmcgdG9vbHMuJ1xuICAgICAgfSxcbiAgICAgIHsgdGl0bGU6ICdJbnRlcmlvciBEZXNpZ24nLFxuICAgICAgICBsaW5rOiAnL3NlcnZpY2VzL2ludGVyaW9yLWRlc2lnbicsXG4gICAgICAgIGltZzogJ2ltZy9pY29ucy90aGluay1kcmF3LWJ1aWxkLnBuZycsXG4gICAgICAgIGRlc2M6ICdXZSB3b3VsZCBsb3ZlIHRvIGNvbWUgdG8geW91ciBob21lIGFuZCBnaXZlIHlvdSBhIGZyZWUgaG91ciBjb25zdWx0YXRpb24uICBXZSB3aWxsIGNyZWF0ZSBhIG5ldyBhbmQgaW5zcGlyaW5nIHNwYWNlIHRoYXQgZW11bGF0ZXMgeW91ciBwZXJzb25hbGl0eS4nXG4gICAgICB9LFxuICAgICAgeyB0aXRsZTogJ0N1c3RvbSBGdXJuaXR1cmUgRGVzaWduJyxcbiAgICAgICAgbGluazogJy9zZXJ2aWNlcy9mdXJuaXR1cmUnLFxuICAgICAgICBpbWc6ICdpbWcvaWNvbnMvY29uc3RydWN0aW9uLnBuZycsXG4gICAgICAgIGRlc2M6ICdXZSBsb3ZlIHRvIGNyZWF0ZSBmdXJuaXR1cmUgb3V0IG9mIHN1c3RhaW5hYmxlIG1hdGVyaWFscy4gQ3JhZnRpbmcgdW5pcXVlIGZ1cm5pdHVyZSBoYXMgYmVjb21lIGEgd29uZGVmdWwgcGFzc2lvbiBvZiBvdXIuICBMZXQgdXMgaGVscCB5b3UgY3JlYXRlIHNvbWV0aGluZyBvbmUtb2YtYS1raW5kIGZvciB5b3VyIHNwYWNlLidcbiAgICAgIH1cbiAgXTtcblxuXG59XSk7XG4iXX0=
