'use strict';

var app = angular.module('hb-interiors', ['ui.router']);

app.config(['$locationProvider', '$stateProvider', '$urlRouterProvider', function ($locationProvider, $stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode(true);

  $stateProvider.state('home', {
    url: '/',
    templateUrl: '/partials/home/home',
    controller: 'homeCtrl'
  }).state('services', {
    url: '/services',
    templateUrl: '/partials/services/services',
    controller: 'ServiceController'
  }).state('e-design', {
    url: '/e-design',
    templateUrl: '/partials/ed/ed',
    controller: 'eDesignCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: '/partials/about/about',
    controller: 'aboutCtrl'
  }).state('contact', {
    url: '/contact',
    templateUrl: '/partials/contact/contact',
    controller: 'contactCtrl'
  }).state('services.detail', {
    url: '/services/:name',
    templateUrl: '/partials/services/services-detail',
    controller: 'SelectedServiceController'
  });
}]);

app.run(['$rootScope', '$location', function ($rootScope, $location) {

  // $rootScope.$on('$routeChangeError', function(evt, current, previous, rejection) {
  //     if(rejection === 'not authorized') {
  //       $location.path('/');
  //     }
  // });

  $rootScope.$on("$stateChangeSuccess", function (event, currentRoute, previousRoute) {
    // window.scrollTo(0, 0);
  });
}]);
'use strict';

app.controller('aboutCtrl', ['$scope', function ($scope) {

  $scope.isActive = false;
  $scope.minusSign = false;
  $scope.expandBio = function () {
    $scope.minusSign = !$scope.minusSign;
    $scope.isActive = !$scope.isActive;
  };
}]);
'use strict';

app.factory('Meta', function () {
  var _title = 'Hayley Bagwell Interior Design, Seattle, WA';
  var desc = 'Super DERRR';
  return {
    title: function title() {
      return _title;
    },
    setTitle: function setTitle(newTitle) {
      _title = newTitle;
    },
    description: function description() {
      return desc;
    },
    setDesc: function setDesc(newDesc) {
      desc = newDesc;
    }
  };
}).controller('MetaController', ['$scope', 'Meta', function ($scope, Meta) {
  $scope.Meta = Meta;
  $scope.metaDesc = Meta;
}]);
'use strict';

app.controller('contactCtrl', ['$scope', function ($scope) {
  console.log('contact controller');
}]);
'use strict';

app.controller('eDesignCtrl', ['$scope', function ($scope) {}]);
'use strict';

app.directive('pageBanner', function () {
  return {
    restrict: 'E',
    templateUrl: '/partials/home/banner',
    replace: true,
    scope: { bgImage: '@' }
  };
});
'use strict';

app.directive('boxHeight', ['$window', '$timeout', function ($window, $timeout) {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      $timeout(function () {
        scope.newHeight = elem.height();
      }, 500);
      angular.element($window).bind('resize', function () {
        scope.$apply(function () {
          scope.newHeight = elem.height();
        });
      });
    }
  };
}]);

app.directive('targetHeight', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      scope.$watch('newHeight', function (newV, oldV) {
        //console.log('old value ' + oldV, 'new value ' + newV);
        elem.attr('style', 'height: ' + newV + 'px');
      });
    }
  };
});
'use strict';

app.controller('homeCtrl', ['$scope', 'ServiceFactory', function ($scope, ServiceFactory) {

  $scope.services = ServiceFactory.list();
}]);
'use strict';

app.controller('ServiceController', ['$scope', 'ServiceFactory', function ($scope, ServiceFactory) {
  $scope.services = ServiceFactory.list();
}]);

app.controller('SelectedServiceController', ['$scope', '$stateParams', 'ServiceFactory', function ($scope, $stateParams, ServiceFactory) {
  $scope.selectedService = ServiceFactory.find($stateParams.name);
}]);
'use strict';

app.factory('ServiceFactory', function () {
  var services = [
  // {
  //   name: 'e-Design',
  //   logo: 'img/icons/construction.png'
  // },
  {
    name: 'Space Planning',
    link: '/services/space-planning',
    logo: 'img/icons/house-plan.png',
    banner: 'img/services/floor-plan.png',
    subHead: 'creating individualized products',
    desc: 'We can create a functional floor plan that has great flow.  Send us images of your space with measurements to allow us the ability to bring your space new comfort and functionality.'
  },
  // {
  //   name: 'Branding'
  // },
  {
    name: 'Interior Design',
    link: '/services/interior-design',
    logo: 'img/icons/think-draw-build.png',
    banner: 'img/services/master-br.png',
    subHead: 'creating individualized products',
    desc: 'We would love to come to your home and give you a free hour consultation.  We will create a new and inspiring space that emulates your personality.'
  }, {
    name: 'Furniture Design',
    link: '/services/furniture',
    logo: 'img/icons/construction.png',
    banner: 'img/services/bench.png',
    subHead: 'creating individualized products',
    desc: 'We love to create furniture out of sustainable materials. Crafting unique furniture has become a wondeful passion of our.  Let us help you create something one-of-a-kind for your space.'
  }];

  return {
    list: function list() {
      return services;
    },
    find: function find(name) {
      return _.find(services, function (service) {
        return service.name == name;
      });
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFib3V0L2Fib3V0Q3RybC5qcyIsImNvbW1vbi9tZXRhLmNvbnRyb2xsZXIuanMiLCJjb250YWN0L2NvbnRhY3RDdHJsLmpzIiwiZWQvZURlc2lnbkN0cmwuanMiLCJob21lL2Jhbm5lckRpci5qcyIsImhvbWUvYm94RGlycy5qcyIsImhvbWUvaG9tZUN0cmwuanMiLCJzZXJ2aWNlcy9zZXJ2aWNlQ3RybC5qcyIsInNlcnZpY2VzL3NlcnZpY2VGYWN0b3J5LmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaHRtbDVNb2RlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJG9uIiwiZXZlbnQiLCJjdXJyZW50Um91dGUiLCJwcmV2aW91c1JvdXRlIiwiJHNjb3BlIiwiaXNBY3RpdmUiLCJtaW51c1NpZ24iLCJleHBhbmRCaW8iLCJmYWN0b3J5IiwidGl0bGUiLCJkZXNjIiwic2V0VGl0bGUiLCJuZXdUaXRsZSIsImRlc2NyaXB0aW9uIiwic2V0RGVzYyIsIm5ld0Rlc2MiLCJNZXRhIiwibWV0YURlc2MiLCJjb25zb2xlIiwibG9nIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwic2NvcGUiLCJiZ0ltYWdlIiwiJHdpbmRvdyIsIiR0aW1lb3V0IiwibGluayIsImVsZW0iLCJhdHRycyIsIm5ld0hlaWdodCIsImhlaWdodCIsImVsZW1lbnQiLCJiaW5kIiwiJGFwcGx5IiwiJHdhdGNoIiwibmV3ViIsIm9sZFYiLCJhdHRyIiwiU2VydmljZUZhY3RvcnkiLCJzZXJ2aWNlcyIsImxpc3QiLCIkc3RhdGVQYXJhbXMiLCJzZWxlY3RlZFNlcnZpY2UiLCJmaW5kIiwibmFtZSIsImxvZ28i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O0FBQ0VtQyxVQUFNLGlCQURSO0FBRUVsQixVQUFNLDJCQUZSO0FBR0VtQixVQUFNLGdDQUhSO0FBSUVDLFlBQVEsNEJBSlY7QUFLRUMsYUFBUyxrQ0FMWDtBQU1FdEMsVUFBTTtBQU5SLEdBaEJhLEVBd0JiO0FBQ0VtQyxVQUFNLGtCQURSO0FBRUVsQixVQUFNLHFCQUZSO0FBR0VtQixVQUFNLDRCQUhSO0FBSUVDLFlBQVEsd0JBSlY7QUFLRUMsYUFBUyxrQ0FMWDtBQU1FdEMsVUFBTTtBQU5SLEdBeEJhLENBQWY7O0FBa0NBLFNBQU87QUFDTCtCLFVBQU0sZ0JBQVU7QUFDZCxhQUFPRCxRQUFQO0FBQ0QsS0FISTtBQUlMSSxVQUFNLGNBQVNDLElBQVQsRUFBYztBQUNoQixhQUFPSSxFQUFFTCxJQUFGLENBQU9KLFFBQVAsRUFBaUIsVUFBQ1UsT0FBRCxFQUFhO0FBQ25DLGVBQU9BLFFBQVFMLElBQVIsSUFBZ0JBLElBQXZCO0FBQ0QsT0FGTSxDQUFQO0FBR0g7QUFSSSxHQUFQO0FBVUQsQ0E3Q0QiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdoYi1pbnRlcmlvcnMnLCBbJ3VpLnJvdXRlciddKTtcblxuYXBwLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICgkbG9jYXRpb25Qcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgPT4ge1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcblxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvaG9tZS9ob21lJyxcbiAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdzZXJ2aWNlcycsIHtcbiAgICAgICAgdXJsOiAnL3NlcnZpY2VzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvc2VydmljZXMvc2VydmljZXMnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2VydmljZUNvbnRyb2xsZXInXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdlLWRlc2lnbicsIHtcbiAgICAgICAgdXJsOiAnL2UtZGVzaWduJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvZWQvZWQnLFxuICAgICAgICBjb250cm9sbGVyOiAnZURlc2lnbkN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICAgICAgdXJsOiAnL2Fib3V0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYWJvdXQvYWJvdXQnLFxuICAgICAgICBjb250cm9sbGVyOiAnYWJvdXRDdHJsJ1xuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnY29udGFjdCcsIHtcbiAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jb250YWN0L2NvbnRhY3QnLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdEN0cmwnXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdzZXJ2aWNlcy5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9zZXJ2aWNlcy86bmFtZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL3NlcnZpY2VzL3NlcnZpY2VzLWRldGFpbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZWxlY3RlZFNlcnZpY2VDb250cm9sbGVyJ1xuICAgICAgfSk7XG59XSk7XG5cblxuYXBwLnJ1bihbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uKXtcblxuICAvLyAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldnQsIGN1cnJlbnQsIHByZXZpb3VzLCByZWplY3Rpb24pIHtcbiAgLy8gICAgIGlmKHJlamVjdGlvbiA9PT0gJ25vdCBhdXRob3JpemVkJykge1xuICAvLyAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcblxuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24gKGV2ZW50LCBjdXJyZW50Um91dGUsIHByZXZpb3VzUm91dGUpIHtcbiAgICAvLyB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gIH0pO1xuXG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignYWJvdXRDdHJsJywgWyckc2NvcGUnLCAoJHNjb3BlKSA9PiB7XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZmFsc2U7XG4gICRzY29wZS5taW51c1NpZ24gPSBmYWxzZTtcbiAgJHNjb3BlLmV4cGFuZEJpbyA9ICgpID0+IHtcbiAgICAgICRzY29wZS5taW51c1NpZ24gPSAhJHNjb3BlLm1pbnVzU2lnbjtcbiAgICAgICRzY29wZS5pc0FjdGl2ZSA9ICEkc2NvcGUuaXNBY3RpdmU7XG4gIH07XG5cbn1dKTtcbiIsImFwcC5mYWN0b3J5KCdNZXRhJywgZnVuY3Rpb24oKXtcbiAgdmFyIHRpdGxlID0gJ0hheWxleSBCYWd3ZWxsIEludGVyaW9yIERlc2lnbiwgU2VhdHRsZSwgV0EnO1xuICB2YXIgZGVzYyA9ICdTdXBlciBERVJSUic7XG4gIHJldHVybiB7XG4gICAgdGl0bGU6IGZ1bmN0aW9uKCkge3JldHVybiB0aXRsZTt9LFxuICAgIHNldFRpdGxlOiBmdW5jdGlvbihuZXdUaXRsZSkgeyB0aXRsZSA9IG5ld1RpdGxlIH0sXG4gICAgZGVzY3JpcHRpb246IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVzYzt9LFxuICAgIHNldERlc2MgOiBmdW5jdGlvbihuZXdEZXNjKSB7IGRlc2MgPSBuZXdEZXNjfVxuICB9XG59KVxuLmNvbnRyb2xsZXIoJ01ldGFDb250cm9sbGVyJywgWyckc2NvcGUnLCAnTWV0YScsIGZ1bmN0aW9uKCRzY29wZSwgTWV0YSl7XG4gICRzY29wZS5NZXRhID0gTWV0YTtcbiAgJHNjb3BlLm1ldGFEZXNjID0gTWV0YTtcbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdjb250YWN0Q3RybCcsIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xuICBjb25zb2xlLmxvZygnY29udGFjdCBjb250cm9sbGVyJyk7XG59XSk7XG4iLCJhcHAuY29udHJvbGxlcignZURlc2lnbkN0cmwnLCBbJyRzY29wZScsICgkc2NvcGUpID0+IHtcbiAgXG59XSk7XG4iLCJhcHAuZGlyZWN0aXZlKCdwYWdlQmFubmVyJywgKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvaG9tZS9iYW5uZXInLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgYmdJbWFnZTogJ0AnIH1cbiAgfTtcbn0pO1xuIiwiXG5hcHAuZGlyZWN0aXZlKCdib3hIZWlnaHQnLCBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiAoc2NvcGUsIGVsZW0sIGF0dHJzKSA9PiB7XG4gICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2NvcGUubmV3SGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAgICAgICBzY29wZS5uZXdIZWlnaHQgPSBlbGVtLmhlaWdodCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuXG5hcHAuZGlyZWN0aXZlKCd0YXJnZXRIZWlnaHQnLCBmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogKHNjb3BlLCBlbGVtLCBhdHRycykgPT4ge1xuICAgICAgc2NvcGUuJHdhdGNoKCduZXdIZWlnaHQnLCAobmV3Viwgb2xkVikgPT4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbGQgdmFsdWUgJyArIG9sZFYsICduZXcgdmFsdWUgJyArIG5ld1YpO1xuICAgICAgICBlbGVtLmF0dHIoJ3N0eWxlJywgJ2hlaWdodDogJyArIG5ld1YgKyAncHgnKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG59KTtcbiIsImFwcC5jb250cm9sbGVyKCdob21lQ3RybCcsIFsnJHNjb3BlJywgJ1NlcnZpY2VGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCBTZXJ2aWNlRmFjdG9yeSl7XG5cbiAgJHNjb3BlLnNlcnZpY2VzID0gU2VydmljZUZhY3RvcnkubGlzdCgpO1xuXG5cbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdTZXJ2aWNlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1NlcnZpY2VGYWN0b3J5JywgKCRzY29wZSwgU2VydmljZUZhY3RvcnkpID0+IHtcbiAgICAkc2NvcGUuc2VydmljZXMgPSBTZXJ2aWNlRmFjdG9yeS5saXN0KCk7XG59XSk7XG5cbmFwcC5jb250cm9sbGVyKCdTZWxlY3RlZFNlcnZpY2VDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ1NlcnZpY2VGYWN0b3J5JywgKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBTZXJ2aWNlRmFjdG9yeSkgPT4ge1xuICAkc2NvcGUuc2VsZWN0ZWRTZXJ2aWNlID0gU2VydmljZUZhY3RvcnkuZmluZCgkc3RhdGVQYXJhbXMubmFtZSk7XG59XSk7XG4iLCJhcHAuZmFjdG9yeSgnU2VydmljZUZhY3RvcnknLCAoKSA9PiB7XG4gIHZhciBzZXJ2aWNlcyA9IFtcbiAgICAvLyB7XG4gICAgLy8gICBuYW1lOiAnZS1EZXNpZ24nLFxuICAgIC8vICAgbG9nbzogJ2ltZy9pY29ucy9jb25zdHJ1Y3Rpb24ucG5nJ1xuICAgIC8vIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1NwYWNlIFBsYW5uaW5nJyxcbiAgICAgIGxpbms6ICcvc2VydmljZXMvc3BhY2UtcGxhbm5pbmcnLFxuICAgICAgbG9nbzogJ2ltZy9pY29ucy9ob3VzZS1wbGFuLnBuZycsXG4gICAgICBiYW5uZXI6ICdpbWcvc2VydmljZXMvZmxvb3ItcGxhbi5wbmcnLFxuICAgICAgc3ViSGVhZDogJ2NyZWF0aW5nIGluZGl2aWR1YWxpemVkIHByb2R1Y3RzJyxcbiAgICAgIGRlc2M6ICdXZSBjYW4gY3JlYXRlIGEgZnVuY3Rpb25hbCBmbG9vciBwbGFuIHRoYXQgaGFzIGdyZWF0IGZsb3cuICBTZW5kIHVzIGltYWdlcyBvZiB5b3VyIHNwYWNlIHdpdGggbWVhc3VyZW1lbnRzIHRvIGFsbG93IHVzIHRoZSBhYmlsaXR5IHRvIGJyaW5nIHlvdXIgc3BhY2UgbmV3IGNvbWZvcnQgYW5kIGZ1bmN0aW9uYWxpdHkuJ1xuICAgIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbmFtZTogJ0JyYW5kaW5nJ1xuICAgIC8vIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0ludGVyaW9yIERlc2lnbicsXG4gICAgICBsaW5rOiAnL3NlcnZpY2VzL2ludGVyaW9yLWRlc2lnbicsXG4gICAgICBsb2dvOiAnaW1nL2ljb25zL3RoaW5rLWRyYXctYnVpbGQucG5nJyxcbiAgICAgIGJhbm5lcjogJ2ltZy9zZXJ2aWNlcy9tYXN0ZXItYnIucG5nJyxcbiAgICAgIHN1YkhlYWQ6ICdjcmVhdGluZyBpbmRpdmlkdWFsaXplZCBwcm9kdWN0cycsXG4gICAgICBkZXNjOiAnV2Ugd291bGQgbG92ZSB0byBjb21lIHRvIHlvdXIgaG9tZSBhbmQgZ2l2ZSB5b3UgYSBmcmVlIGhvdXIgY29uc3VsdGF0aW9uLiAgV2Ugd2lsbCBjcmVhdGUgYSBuZXcgYW5kIGluc3BpcmluZyBzcGFjZSB0aGF0IGVtdWxhdGVzIHlvdXIgcGVyc29uYWxpdHkuJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0Z1cm5pdHVyZSBEZXNpZ24nLFxuICAgICAgbGluazogJy9zZXJ2aWNlcy9mdXJuaXR1cmUnLFxuICAgICAgbG9nbzogJ2ltZy9pY29ucy9jb25zdHJ1Y3Rpb24ucG5nJyxcbiAgICAgIGJhbm5lcjogJ2ltZy9zZXJ2aWNlcy9iZW5jaC5wbmcnLFxuICAgICAgc3ViSGVhZDogJ2NyZWF0aW5nIGluZGl2aWR1YWxpemVkIHByb2R1Y3RzJyxcbiAgICAgIGRlc2M6ICdXZSBsb3ZlIHRvIGNyZWF0ZSBmdXJuaXR1cmUgb3V0IG9mIHN1c3RhaW5hYmxlIG1hdGVyaWFscy4gQ3JhZnRpbmcgdW5pcXVlIGZ1cm5pdHVyZSBoYXMgYmVjb21lIGEgd29uZGVmdWwgcGFzc2lvbiBvZiBvdXIuICBMZXQgdXMgaGVscCB5b3UgY3JlYXRlIHNvbWV0aGluZyBvbmUtb2YtYS1raW5kIGZvciB5b3VyIHNwYWNlLidcbiAgICB9XG4gIF07XG5cbiAgcmV0dXJuIHtcbiAgICBsaXN0OiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHNlcnZpY2VzO1xuICAgIH0sXG4gICAgZmluZDogZnVuY3Rpb24obmFtZSl7XG4gICAgICAgIHJldHVybiBfLmZpbmQoc2VydmljZXMsIChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHNlcnZpY2UubmFtZSA9PSBuYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbn0pXG4iXX0=
